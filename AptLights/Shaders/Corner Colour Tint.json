{"working":false,"featured":true,"private":false,"stars":[],"images":[],"categories":["5e7a80dd7c113618206df0a7"],"publicCategories":["Color Effect"],"privateCategories":[],"_id":"5e7a800c7c113618206de999","title":"Corner Color Tint","rawFragmentSource":"/*\n{\n  \"CATEGORIES\" : [\n    \"Color Effect\"\n  ],\n  \"DESCRIPTION\" : \"Tints the corners of the image in different colors.\",\n  \"ISFVSN\" : \"2\",\n  \"INPUTS\" : [\n    {\n      \"NAME\" : \"inputImage\",\n      \"TYPE\" : \"image\"\n    },\n    {\n      \"NAME\" : \"color1\",\n      \"TYPE\" : \"color\",\n      \"DEFAULT\" : [\n        1,\n        0,\n        0,\n        1\n      ]\n    },\n    {\n      \"NAME\" : \"color2\",\n      \"TYPE\" : \"color\",\n      \"DEFAULT\" : [\n        0,\n        1,\n        0,\n        1\n      ]\n    },\n    {\n      \"NAME\" : \"color3\",\n      \"TYPE\" : \"color\",\n      \"DEFAULT\" : [\n        0,\n        0,\n        1,\n        1\n      ]\n    },\n    {\n      \"NAME\" : \"color4\",\n      \"TYPE\" : \"color\",\n      \"DEFAULT\" : [\n        1,\n        1,\n        1,\n        1\n      ]\n    },\n    {\n      \"NAME\" : \"rotationAngle\",\n      \"TYPE\" : \"float\",\n      \"MAX\" : 1,\n      \"DEFAULT\" : 0,\n      \"MIN\" : 0\n    }\n  ],\n  \"CREDIT\" : \"VIDVOX\"\n}\n*/\n\nconst float pi = 3.1415926535897932384626433832795;\n\nvec2 rotatePointNorm(vec2 pt, float rot)\t{\n\tvec2 returnMe = pt;\n\n\tfloat r = distance(vec2(0.50), returnMe);\n\tfloat a = atan((returnMe.y-0.5),(returnMe.x-0.5));\n\n\treturnMe.x = r * cos(a + 2.0 * pi * rot - pi) + 0.5;\n\treturnMe.y = r * sin(a + 2.0 * pi * rot - pi) + 0.5;\n\t\n\treturnMe = returnMe;\n\t\n\treturn returnMe;\n}\n\nvoid main()\t{\n\tvec2\t\tpt = isf_FragNormCoord;\n\tvec4\t\tsrcPixel = IMG_NORM_PIXEL(inputImage,pt);\n\tvec4\t\tdist = vec4(0.0);\n\tpt = rotatePointNorm(pt,rotationAngle+0.5);\n\tdist.r = max(1.0-distance(vec2(0.0,0.0),pt),0.0);\n\tdist.g = max(1.0-distance(vec2(1.0,0.0),pt),0.0);\n\tdist.b = max(1.0-distance(vec2(0.0,1.0),pt),0.0);\n\tdist.a = max(1.0-distance(vec2(1.0,1.0),pt),0.0);\n\t\n\tfloat\t\tluma1 = (srcPixel.r+srcPixel.g+srcPixel.b)/3.0;\n\tvec4\t\tresultPixel = (color1 * dist.r + color2 * dist.g + color3 * dist.b + color4 * dist.a) / (dist.r + dist.g + dist.b + dist.a);\n\tfloat\t\tluma2 = (resultPixel.r+resultPixel.g+resultPixel.b)/3.0;\n\tresultPixel.rgb *= luma1 / luma2;\n\tresultPixel.a *= srcPixel.a;\n\t\n\tgl_FragColor = resultPixel;\n}\n","rawVertexSource":"void main() {\n\tisf_vertShaderInit();\n}","thumbnailCloudinaryId":"gkbdtth4lmcc08qcbpms","description":"Tints the corners of the image in different colors.","shaderType":"filter","oldId":"3548","createdAt":"2018-12-13T03:50:11.224Z","user":{"_id":"5e7a7f587c113618206dda00","username":"VIDVOX","name":"VIDVOX","id":"5e7a7f587c113618206dda00"},"username":"VIDVOX","updatedAt":"2020-03-25T17:50:44.403Z","__v":0,"id":"5e7a800c7c113618206de999"}